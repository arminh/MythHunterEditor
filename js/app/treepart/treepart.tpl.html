<div id="task-container" layout="column" ng-cloak flex-offset-gt-sm="10" flex-gt-sm="80" flex="100" layout-padding>
    <form name="taskForm" ng-cloak ng-submit="treePartCtrl.confirm()">
        <div layout-padding>
            <div class="md-dialog-content">
                <div layout="row" layout-align="center center">
                    <md-input-container flex="50">
                        <label>Task Name</label>
                        <input required name="taskName" ng-model="treePartCtrl.task.name" class="task-info" autofocus md-select-on-focus>
                        <div ng-messages="taskForm.taskName.$error">
                            <div ng-message="required">This is required.</div>
                        </div>
                    </md-input-container>
                </div>

                <div class="task-content">
                    <p class="task-modal-label">Task content</p>
                    <text-angular id="task-editor-quiz"
                                  ng-if="treePartCtrl.task.getType() == treePartCtrl.types.QUIZ" name="task-editor-quiz"
                                  ta-toolbar="{{treePartCtrl.quizToolbar}}" ng-model="treePartCtrl.content" class="task-text"
                                  ng-keydown="treePartCtrl.keyPressed($event)" ng-click="treePartCtrl.contentChanged()"></text-angular>
                    {{treePartCtrl.content}}
                    <text-angular ng-if="treePartCtrl.task.getType() != treePartCtrl.types.QUIZ" name="task-editor"
                                  ta-toolbar="{{treePartCtrl.toolbar}}" ng-model="treePartCtrl.content"
                                  class="task-text"></text-angular>
                    <div ng-if="treePartCtrl.task.getType() != treePartCtrl.types.INFO && treePartCtrl.task.getType() != 'start'">

                        <p ng-if="treePartCtrl.task.getType() == treePartCtrl.types.INVISIBLE" class="task-modal-label">Invisible
                            task
                            target content</p>
                        <p ng-if="treePartCtrl.task.getType() == treePartCtrl.types.QUIZ" class="task-modal-label">Quiz task
                            completed
                            content</p>
                        <text-angular name="task-target" ta-toolbar="{{treePartCtrl.toolbar}}"
                                      ng-model="treePartCtrl.targetContent"
                                      class="task-text"></text-angular>
                    </div>
                    <div ng-if="treePartCtrl.task.getType() == treePartCtrl.types.FIGHT">
                        <enemy enemy="treePartCtrl.task.enemy"></enemy>
                    </div>
                </div>
                <div>
                    <md-button class="md-raised md-primary" type="submit" md-autofocus>
                        Confirm
                    </md-button>
                    <md-button class="md-raised" ng-click="treePartCtrl.cancel()" >
                        Cancel
                    </md-button>
                </div>
            </div>
        </div>
    </form>
</div>