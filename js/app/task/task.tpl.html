<md-dialog aria-label="Create task">
    <form name="taskForm" ng-cloak ng-submit="task.confirm()">
        <md-toolbar>
            <div class="md-toolbar-tools">
                <h2 ng-if="!task.edit">Create task</h2>
                <h2 ng-if="task.edit">Edit task</h2>
                <span flex></span>
                <md-button class="md-icon-button" ng-click="task.cancel()">
                    <md-icon md-svg-icon="media/close_icon.svg"></md-icon>
                </md-button>
            </div>
        </md-toolbar>

        <md-dialog-content>
            <div class="md-dialog-content">
                <div layout="row" layout-align="center center">
                    <md-input-container flex="50">
                        <label>Task Name</label>
                        <input name="taskName" ng-model="task.name" class="task-info">
                    </md-input-container>
                </div>

                <div class="task-content">
                    <p class="task-modal-label">Task content</p>
                    <text-angular ng-click="task.contentChanged()" id="task-editor-quiz"
                                  ng-if="task.activeType == task.types.QUIZ" name="task-editor-quiz"
                                  ta-toolbar="{{task.quizToolbar}}" ng-model="task.content" class="task-text"
                                  ng-keydown="task.keyPressed($event)"></text-angular>
                    <text-angular ng-if="task.activeType != task.types.QUIZ" name="task-editor"
                                  ta-toolbar="{{task.toolbar}}" ng-model="task.content"
                                  class="task-text"></text-angular>
                    {{task.content}}
                    <div ng-if="task.activeType != task.types.INFO && task.activeType != 'start'">

                        <p ng-if="task.activeType == task.types.INVISIBLE" class="task-modal-label">Invisible task
                            target content</p>
                        <p ng-if="task.activeType == task.types.QUIZ" class="task-modal-label">Quiz task completed
                            content</p>
                        <text-angular name="task-target" ta-toolbar="{{task.toolbar}}" ng-model="task.targetContent"
                                      class="task-text"></text-angular>
                    </div>
                </div>
            </div>
        </md-dialog-content>

        <md-dialog-actions layout="row">
            <span flex></span>
            <md-button type="submit" class="md-raised md-primary">
                OK
            </md-button>
            <md-button class="md-raised" ng-click="task.cancel()">
                Cancel
            </md-button>
        </md-dialog-actions>
    </form>
</md-dialog>