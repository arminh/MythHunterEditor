<div id="mapView">


</div>

<md-toolbar id="toolbar" ng-hide="map.drawing">
    <div class="md-toolbar-tools">
        <md-button class="md-icon-button" aria-label="Settings" ng-click="map.toggleQuestline()">
            <md-icon md-svg-icon="media/menu_icon.svg"></md-icon>
        </md-button>

        <md-autocomplete id="toolbar-search"
                         placeholder="Find location ..."
                         md-selected-item="selectedItem"
                         md-search-text="searchText"
                         md-items="item in map.searchLocation(searchText)"
                         md-item-text="item.display_name"
                         md-autoselect="true" md-selected-item-change="map.gotoLocation(selectedItem)">
            <span md-highlight-text="searchText">{{item.display_name}}</span>
            <md-not-found>
                No matches found.
            </md-not-found>
        </md-autocomplete>


        <md-button id="toolbar-search-icon" class="md-icon-button" aria-label="Settings" ng-click="map.searchAndGotoLocation(searchText)">
            <md-icon md-svg-icon="media/search_icon.svg"></md-icon>
        </md-button>

        <span flex=""></span>
        <md-button aria-label="delete" class="md-icon-button" ng-click="map.cancelQuest()">
            <md-tooltip style="z-index:1000" class="button-tooltip" md-direction="bottom">
                Cancel editing
            </md-tooltip>
            <md-icon md-svg-icon="media/cancel_icon.svg"></md-icon>
        </md-button>
        <md-button aria-label="edit" class="md-icon-button" ng-click="map.editQuest()">
            <md-tooltip style="z-index:1000" class="button-tooltip" md-direction="bottom">
                Edit quest text
            </md-tooltip>
            <md-icon md-svg-icon="media/edit_icon.svg"></md-icon>
        </md-button>
        <md-button class="md-icon-button" aria-label="Save" ng-click="map.saveQuest()">
            <md-tooltip style="z-index:1000" class="button-tooltip" md-direction="bottom">
                Save Quest
            </md-tooltip>
            <md-icon md-svg-icon="media/save_icon.svg"></md-icon>
        </md-button>
    </div>
</md-toolbar>


<div id="map-tasks" ng-show="map.showQuestline"  ng-hide="map.drawing">
    <map-task ng-if="map.quest.treePartRoot" task="map.quest.treePartRoot.task" edit="map.editTask(map.quest.treePartRoot.task)" preview="map.previewHtml(map.quest.treePartRoot.task.html)"></map-task>

    <ol id="map-task-list" ui-sortable="map.sortableOptions" ng-model="map.quest.treeParts">
        <li ng-repeat = "treePart in map.quest.treeParts"><map-task task="treePart.task" edit="map.editTask(treePart.task)" delete="map.deleteTask($index)" preview="map.previewHtml(treePart.task.html)"></map-task></li>
    </ol>
    <div class="map-task-add">
        <md-button class="md-icon-button map-task-icon" ng-click="map.newTask()">
            <md-tooltip style="z-index:1000" class="button-tooltip" md-direction="bottom">
                Add task
            </md-tooltip>
            <md-icon md-svg-icon="media/add_icon.svg"></md-icon>
        </md-button>
    </div>
</div>



<!--<ul ui-sortable ng-model="items">
    <li ng-repeat="item in items">{{ item }}</li>
</ul>-->

<div id="markerSelectorBox" ng-hide="map.drawing && !map.continueDrawing">
    <div class="marker">
        <img src="media/fight_marker.png" class="markerSelector" ng-click="map.toggleMarker('FIGHT')"/>
<!--
        <p class="markerLabel">Fight</p>
-->
    </div>

    <div class="marker">
        <img src="media/quiz_marker.png" class="markerSelector" ng-click="map.toggleMarker('QUIZ')"/>
<!--
        <p class="markerLabel">Quiz</p>
-->
    </div>

    <div class="marker">
        <img src="media/info_marker.png" class="markerSelector" ng-click="map.toggleMarker('INFO')"/>
<!--        <p class="markerLabel">Info</p>-->
    </div>

<!--
    <img src="media/delete_icon.png" class="markerSelector" width="20" height="32"  ng-click="map.toggleRemove()"/>
-->
</div>
<div id="popup">
    <div id="popupCloser"></div>
    <div id="popupContent"></div>
</div>





