<div id="card-editor-container" class="col-md-8 col-md-offset-2">
    <div id="card-container">

        <div class="card-image-bounds" ng-style="card.imageDragBounds">

            <div class="card-image-container" position="{{card.imageContainerStyle}}" data-drag="true"
                 jqyoui-draggable="{containment: 'position', onStop: 'card.positionChanged()'}"
                 data-jqyoui-options="{{card.imageDragOptions}}">
                <img ng-show="card.image.base64"
                     data-ng-src="data:{{card.image.filetype}};base64, {{card.image.base64}}" scale-card-image
                     dimensions="card.dimensions" callback="card.imageLoaded()"/>
            </div>
        </div>
        <div class="card-mask">
            <img ng-src="{{card.starImage}}" class="card-star-overlay"/>
        </div>

        <input type="number" min="0" max="10" class="card-input attack-val" readonly="readonly" ng-model="card.attack"/>
        <input type="number" min="0" max="10" class="card-input defence-val" readonly="readonly" ng-model="card.defence"/>
        <span ng-if="card.action" class="card-input card-attack" readonly="readonly"><b>{{card.action.names[1]._value}}: </b>{{card.action.descriptions[1]._value}}</span>
        <span class="card-input card-text" placeholder="Enter card text ..." readonly="readonly">{{card.description}}</span>
    </div>
    <div id="card-settings-container" style="width: 40%; float:left;">
        <md-content md-theme="docs-dark" layout-gt-sm="row" layout-padding="">
            <div>
                <md-input-container>
                    <label>Name</label>
                    <input type="text" maxlength="10" ng-model="card.name"/>
                </md-input-container>

                <md-input-container>
                    <label>Attack</label>
                    <input type="number" min="0" max="10" ng-model="card.attack" ng-change="card.attackChanged()"/>
                </md-input-container>

                <md-input-container>
                    <label>Lifeforce</label>
                    <input type="number" min="1" max="10" ng-model="card.defence" ng-change="card.defenceChanged()"/>
                </md-input-container>

                <md-input-container>
                    <label>Description</label>
                    <textarea class="textarea-noresize" maxlength="100" ng-model="card.description"
                              ng-change="card.descriptionChanged()"></textarea>
                </md-input-container>

                <md-select placeholder="Action" ng-model="card.action" ng-change="card.actionChanged()">
                    <md-option ng-value="action" ng-repeat="action in card.actions | orderBy:'starCosts'" ng-disabled="!card.isActionAffordable(action)">
                        {{action.names[1]._value}}
                    </md-option>
                </md-select>
            </div>
        </md-content>

    </div>
    <div style="clear: both">
        <input  type='file' ng-model='card.image' base-sixty-four-input>
        {{card.image}}
        <br>
        <div class="btn-group">
            <button class="btn btn-default" style="margin-right: 20px;"  ng-click="card.upload()">Upload</button>
            <button class="btn btn-default" style="margin-right: 20px;"  ng-click="card.downloadImage()">Download</button>
            <button class="btn btn-default" ng-click="card.htmlToImageControl.convert()" value="Convert">Convert</button>
        </div>


    </div>

</div>

